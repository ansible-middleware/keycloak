

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="2.18.0" name="antsibull-docs" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>keycloak_role – Allows administration of Keycloak roles via Keycloak API &mdash; Keycloak Ansible Collection  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=41de9001" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/antsibull-minimal.css" />
      <link rel="stylesheet" type="text/css" href="../_static/ansible-basic-sphinx-ext.css" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="keycloak_user_federation – Allows administration of Keycloak user federations via Keycloak API" href="keycloak_user_federation.html" />
    <link rel="prev" title="keycloak_realm – Allows administration of Keycloak realm via Keycloak API" href="keycloak_realm.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Keycloak Ansible Collection
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../README.html">Ansible Collection - middleware_automation.keycloak</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Plugin Index</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="keycloak_client.html">keycloak_client – Allows administration of Keycloak clients via Keycloak API</a></li>
<li class="toctree-l2"><a class="reference internal" href="keycloak_realm.html">keycloak_realm – Allows administration of Keycloak realm via Keycloak API</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">keycloak_role – Allows administration of Keycloak roles via Keycloak API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#attributes">Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#return-values">Return Values</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#authors">Authors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="keycloak_user_federation.html">keycloak_user_federation – Allows administration of Keycloak user federations via Keycloak API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../roles/index.html">Role Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGELOG.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developing.html">Developing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing.html#contributor-s-guidelines">Contributor’s Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releasing.html">Releasing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Middleware collections</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://ansible-middleware.github.io/keycloak/main/">Keycloak / Red Hat Single Sign-On</a></li>
<li class="toctree-l1"><a class="reference external" href="https://ansible-middleware.github.io/infinispan/main/">Infinispan / Red Hat Data Grid</a></li>
<li class="toctree-l1"><a class="reference external" href="https://ansible-middleware.github.io/wildfly/main/">Wildfly / Red Hat JBoss EAP</a></li>
<li class="toctree-l1"><a class="reference external" href="https://ansible-middleware.github.io/jws/main/">Tomcat / Red Hat JWS</a></li>
<li class="toctree-l1"><a class="reference external" href="https://ansible-middleware.github.io/amq/main/">ActiveMQ / Red Hat AMQ Broker</a></li>
<li class="toctree-l1"><a class="reference external" href="https://ansible-middleware.github.io/amq_streams/main/">Kafka / Red Hat AMQ Streams</a></li>
<li class="toctree-l1"><a class="reference external" href="https://ansible-middleware.github.io/common/main/">Ansible Middleware utilities</a></li>
<li class="toctree-l1"><a class="reference external" href="https://ansible-middleware.github.io/ansible_collections_jcliff/main/">JCliff</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Keycloak Ansible Collection</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Plugin Index</a></li>
      <li class="breadcrumb-item active">keycloak_role – Allows administration of Keycloak roles via Keycloak API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/plugins/keycloak_role.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <span class="target" id="ansible-collections-middleware-automation-keycloak-keycloak-role-module"></span><section id="keycloak-role-allows-administration-of-keycloak-roles-via-keycloak-api">
<h1>keycloak_role – Allows administration of Keycloak roles via Keycloak API<a class="headerlink" href="#keycloak-role-allows-administration-of-keycloak-roles-via-keycloak-api" title="Link to this heading"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/middleware_automation/keycloak/">middleware_automation.keycloak collection</a>.</p>
<p>It is not included in <code class="docutils literal notranslate"><span class="pre">ansible-core</span></code>.
To check whether it is installed, run <code class="code docutils literal notranslate"><span class="pre">ansible-galaxy</span> <span class="pre">collection</span> <span class="pre">list</span></code>.</p>
<p>To install it, use: <code class="code docutils literal notranslate"><span class="pre">ansible-galaxy</span> <span class="pre">collection</span> <span class="pre">install</span> <span class="pre">middleware_automation.keycloak</span></code>.</p>
<p>To use it in a playbook, specify: <code class="code docutils literal notranslate"><span class="pre">middleware_automation.keycloak.keycloak_role</span></code>.</p>
</div>
<p class="ansible-version-added">New in middleware_automation.keycloak 3.4.0</p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></p></li>
<li><p><a class="reference internal" href="#parameters" id="id2">Parameters</a></p></li>
<li><p><a class="reference internal" href="#attributes" id="id3">Attributes</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id4">Examples</a></p></li>
<li><p><a class="reference internal" href="#return-values" id="id5">Return Values</a></p></li>
</ul>
</nav>
<section id="synopsis">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Synopsis</a><a class="headerlink" href="#synopsis" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>This module allows you to add, remove or modify Keycloak roles via the Keycloak REST API. It requires access to the REST API via OpenID Connect; the user connecting and the client being used must have the requisite access rights. In a default Keycloak installation, admin-cli and an admin user would work, as would a separate client definition with the scope tailored to your needs and a user having the expected roles.</p></li>
<li><p>The names of module options are snake_cased versions of the camelCase ones found in the Keycloak API and its documentation at <a class="reference external" href="https://www.keycloak.org/docs-api/8.0/rest-api/index.html">https://www.keycloak.org/docs-api/8.0/rest-api/index.html</a>.</p></li>
<li><p>Attributes are multi-valued in the Keycloak API. All attributes are lists of individual values and will be returned that way by this module. You may pass single values for attributes when calling the module, and this will be translated into a list suitable for the API.</p></li>
</ul>
</section>
<section id="parameters">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Parameters</a><a class="headerlink" href="#parameters" title="Link to this heading"></a></h2>
<table class="colwidths-auto ansible-option-table docutils align-default" style="width: 100%">
<thead>
<tr class="row-odd">
  <th class="head"><p>Parameter</p></th>
  <th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-attributes"></div>
    <p class="ansible-option-title"><strong>attributes</strong></p>
    <a class="ansibleOptionLink" href="#parameter-attributes" title="Permalink to this option"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">dictionary</span>
    </p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>A dict of key/value pairs to set as custom attributes for the role.</p>
    <p>Values may be single values (e.g. a string) or a list of strings.</p>
  </div></td>
</tr>
<tr class="row-odd">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-auth_client_id"></div>
    <p class="ansible-option-title"><strong>auth_client_id</strong></p>
    <a class="ansibleOptionLink" href="#parameter-auth_client_id" title="Permalink to this option"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">string</span>
    </p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>OpenID Connect <em>client_id</em> to authenticate to the API with.</p>
    <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code class="ansible-value literal notranslate ansible-option-default">&#34;admin-cli&#34;</code></p>
  </div></td>
</tr>
<tr class="row-even">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-auth_client_secret"></div>
    <p class="ansible-option-title"><strong>auth_client_secret</strong></p>
    <a class="ansibleOptionLink" href="#parameter-auth_client_secret" title="Permalink to this option"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">string</span>
    </p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>Client Secret to use in conjunction with <em>auth_client_id</em> (if required).</p>
  </div></td>
</tr>
<tr class="row-odd">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-auth_keycloak_url"></div>
    <div class="ansibleOptionAnchor" id="parameter-url"></div>
    <p class="ansible-option-title"><strong>auth_keycloak_url</strong></p>
    <a class="ansibleOptionLink" href="#parameter-auth_keycloak_url" title="Permalink to this option"></a>
    <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: url</span></p>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">string</span>
      / <span class="ansible-option-required">required</span>
    </p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>URL to the Keycloak instance.</p>
  </div></td>
</tr>
<tr class="row-even">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-auth_password"></div>
    <div class="ansibleOptionAnchor" id="parameter-password"></div>
    <p class="ansible-option-title"><strong>auth_password</strong></p>
    <a class="ansibleOptionLink" href="#parameter-auth_password" title="Permalink to this option"></a>
    <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: password</span></p>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">string</span>
    </p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>Password to authenticate for API access with.</p>
  </div></td>
</tr>
<tr class="row-odd">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-auth_realm"></div>
    <p class="ansible-option-title"><strong>auth_realm</strong></p>
    <a class="ansibleOptionLink" href="#parameter-auth_realm" title="Permalink to this option"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">string</span>
    </p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>Keycloak realm name to authenticate to for API access.</p>
  </div></td>
</tr>
<tr class="row-even">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-auth_username"></div>
    <div class="ansibleOptionAnchor" id="parameter-username"></div>
    <p class="ansible-option-title"><strong>auth_username</strong></p>
    <a class="ansibleOptionLink" href="#parameter-auth_username" title="Permalink to this option"></a>
    <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: username</span></p>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">string</span>
    </p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>Username to authenticate for API access with.</p>
  </div></td>
</tr>
<tr class="row-odd">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-client_id"></div>
    <p class="ansible-option-title"><strong>client_id</strong></p>
    <a class="ansibleOptionLink" href="#parameter-client_id" title="Permalink to this option"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">string</span>
    </p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>If the role is a client role, the client id under which it resides.</p>
    <p>If this parameter is absent, the role is considered a realm role.</p>
  </div></td>
</tr>
<tr class="row-even">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-composite"></div>
    <p class="ansible-option-title"><strong>composite</strong></p>
    <a class="ansibleOptionLink" href="#parameter-composite" title="Permalink to this option"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">boolean</span>
    </p>
    <p><em class="ansible-option-versionadded">added in middleware_automation.keycloak 7.1.0</em></p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>If <code class="ansible-value literal notranslate">true</code>, the role is a composition of other realm and/or client role.</p>
    <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p>
    <ul class="simple">
      <li><p><code class="ansible-value literal notranslate ansible-option-default-bold"><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span></p></li>
      <li><p><code class="ansible-value literal notranslate ansible-option-choices-entry">true</code></p></li>
    </ul>

  </div></td>
</tr>
<tr class="row-odd">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-composites"></div>
    <p class="ansible-option-title"><strong>composites</strong></p>
    <a class="ansibleOptionLink" href="#parameter-composites" title="Permalink to this option"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">list</span>
      / <span class="ansible-option-elements">elements=dictionary</span>
    </p>
    <p><em class="ansible-option-versionadded">added in middleware_automation.keycloak 7.1.0</em></p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>List of roles to include to the composite realm role.</p>
    <p>If the composite role is a client role, the <code class='docutils literal notranslate'>clientId</code> (not ID of the client) must be specified.</p>
    <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code class="ansible-value literal notranslate ansible-option-default">[]</code></p>
  </div></td>
</tr>
<tr class="row-even">
  <td><div class="ansible-option-indent"></div><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-composites/client_id"></div>
    <div class="ansibleOptionAnchor" id="parameter-composites/clientId"></div>
    <p class="ansible-option-title"><strong>client_id</strong></p>
    <a class="ansibleOptionLink" href="#parameter-composites/client_id" title="Permalink to this option"></a>
    <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: clientId</span></p>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">string</span>
    </p>
  </div></td>
  <td><div class="ansible-option-indent-desc"></div><div class="ansible-option-cell">
    <p>Client ID if the role is a client role. Do not include this option for a REALM role.</p>
    <p>Use the client ID you can see in the Keycloak console, not the technical ID of the client.</p>
  </div></td>
</tr>
<tr class="row-odd">
  <td><div class="ansible-option-indent"></div><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-composites/name"></div>
    <p class="ansible-option-title"><strong>name</strong></p>
    <a class="ansibleOptionLink" href="#parameter-composites/name" title="Permalink to this option"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">string</span>
      / <span class="ansible-option-required">required</span>
    </p>
  </div></td>
  <td><div class="ansible-option-indent-desc"></div><div class="ansible-option-cell">
    <p>Name of the role. This can be the name of a REALM role or a client role.</p>
  </div></td>
</tr>
<tr class="row-even">
  <td><div class="ansible-option-indent"></div><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-composites/state"></div>
    <p class="ansible-option-title"><strong>state</strong></p>
    <a class="ansibleOptionLink" href="#parameter-composites/state" title="Permalink to this option"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">string</span>
    </p>
  </div></td>
  <td><div class="ansible-option-indent-desc"></div><div class="ansible-option-cell">
    <p>Create the composite if present, remove it if absent.</p>
    <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p>
    <ul class="simple">
      <li><p><code class="ansible-value literal notranslate ansible-option-default-bold"><strong>&#34;present&#34;</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span></p></li>
      <li><p><code class="ansible-value literal notranslate ansible-option-choices-entry">&#34;absent&#34;</code></p></li>
    </ul>

  </div></td>
</tr>

<tr class="row-odd">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-connection_timeout"></div>
    <p class="ansible-option-title"><strong>connection_timeout</strong></p>
    <a class="ansibleOptionLink" href="#parameter-connection_timeout" title="Permalink to this option"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">integer</span>
    </p>
    <p><em class="ansible-option-versionadded">added in middleware_automation.keycloak 4.5.0</em></p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>Controls the HTTP connections timeout period (in seconds) to Keycloak API.</p>
    <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code class="ansible-value literal notranslate ansible-option-default">10</code></p>
  </div></td>
</tr>
<tr class="row-even">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-description"></div>
    <p class="ansible-option-title"><strong>description</strong></p>
    <a class="ansibleOptionLink" href="#parameter-description" title="Permalink to this option"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">string</span>
    </p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>The role description.</p>
  </div></td>
</tr>
<tr class="row-odd">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-http_agent"></div>
    <p class="ansible-option-title"><strong>http_agent</strong></p>
    <a class="ansibleOptionLink" href="#parameter-http_agent" title="Permalink to this option"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">string</span>
    </p>
    <p><em class="ansible-option-versionadded">added in middleware_automation.keycloak 5.4.0</em></p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>Configures the HTTP User-Agent header.</p>
    <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code class="ansible-value literal notranslate ansible-option-default">&#34;Ansible&#34;</code></p>
  </div></td>
</tr>
<tr class="row-even">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-name"></div>
    <p class="ansible-option-title"><strong>name</strong></p>
    <a class="ansibleOptionLink" href="#parameter-name" title="Permalink to this option"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">string</span>
      / <span class="ansible-option-required">required</span>
    </p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>Name of the role.</p>
    <p>This parameter is required.</p>
  </div></td>
</tr>
<tr class="row-odd">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-realm"></div>
    <p class="ansible-option-title"><strong>realm</strong></p>
    <a class="ansibleOptionLink" href="#parameter-realm" title="Permalink to this option"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">string</span>
    </p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>The Keycloak realm under which this role resides.</p>
    <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code class="ansible-value literal notranslate ansible-option-default">&#34;master&#34;</code></p>
  </div></td>
</tr>
<tr class="row-even">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-state"></div>
    <p class="ansible-option-title"><strong>state</strong></p>
    <a class="ansibleOptionLink" href="#parameter-state" title="Permalink to this option"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">string</span>
    </p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>State of the role.</p>
    <p>On <code class="ansible-value literal notranslate">present</code>, the role will be created if it does not yet exist, or updated with the parameters you provide.</p>
    <p>On <code class="ansible-value literal notranslate">absent</code>, the role will be removed if it exists.</p>
    <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p>
    <ul class="simple">
      <li><p><code class="ansible-value literal notranslate ansible-option-default-bold"><strong>&#34;present&#34;</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span></p></li>
      <li><p><code class="ansible-value literal notranslate ansible-option-choices-entry">&#34;absent&#34;</code></p></li>
    </ul>

  </div></td>
</tr>
<tr class="row-odd">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-token"></div>
    <p class="ansible-option-title"><strong>token</strong></p>
    <a class="ansibleOptionLink" href="#parameter-token" title="Permalink to this option"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">string</span>
    </p>
    <p><em class="ansible-option-versionadded">added in middleware_automation.keycloak 3.0.0</em></p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>Authentication token for Keycloak API.</p>
  </div></td>
</tr>
<tr class="row-even">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="parameter-validate_certs"></div>
    <p class="ansible-option-title"><strong>validate_certs</strong></p>
    <a class="ansibleOptionLink" href="#parameter-validate_certs" title="Permalink to this option"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">boolean</span>
    </p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>Verify TLS certificates (do not disable this in production).</p>
    <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p>
    <ul class="simple">
      <li><p><code class="ansible-value literal notranslate ansible-option-choices-entry">false</code></p></li>
      <li><p><code class="ansible-value literal notranslate ansible-option-default-bold"><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span></p></li>
    </ul>

  </div></td>
</tr>
</tbody>
</table></section>
<section id="attributes">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Attributes</a><a class="headerlink" href="#attributes" title="Link to this heading"></a></h2>
<table class="longtable ansible-option-table docutils align-default" style="width: 100%">
<thead>
<tr class="row-odd"><th class="head"><p>Attribute</p></th>
<th class="head"><p>Support</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="attribute-check_mode"></div><p class="ansible-option-title" id="ansible-collections-middleware-automation-keycloak-keycloak-role-module-attribute-check-mode"><strong>check_mode</strong></p>
<a class="ansibleOptionLink" href="#attribute-check_mode" title="Permalink to this attribute"></a></div></td>
<td><div class="ansible-option-cell"><p><strong class="ansible-attribute-support-label">Support: </strong><strong class="ansible-attribute-support-full">full</strong></p>
</div></td>
<td><div class="ansible-option-cell"><p>Can run in <code class="docutils literal notranslate"><span class="pre">check_mode</span></code> and return changed status prediction without modifying target.</p>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="attribute-diff_mode"></div><p class="ansible-option-title" id="ansible-collections-middleware-automation-keycloak-keycloak-role-module-attribute-diff-mode"><strong>diff_mode</strong></p>
<a class="ansibleOptionLink" href="#attribute-diff_mode" title="Permalink to this attribute"></a></div></td>
<td><div class="ansible-option-cell"><p><strong class="ansible-attribute-support-label">Support: </strong><strong class="ansible-attribute-support-full">full</strong></p>
</div></td>
<td><div class="ansible-option-cell"><p>Will return details on what has changed (or possibly needs changing in <code class="docutils literal notranslate"><span class="pre">check_mode</span></code>), when in diff mode.</p>
</div></td>
</tr>
</tbody>
</table>
</section>
<section id="examples">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Examples</a><a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<div class="highlight-yaml+jinja notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Create a Keycloak realm role, authentication with credentials</span>
<span class="w">  </span><span class="nt">middleware_automation.keycloak.keycloak_role</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-new-kc-role</span>
<span class="w">    </span><span class="nt">realm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MyCustomRealm</span>
<span class="w">    </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<span class="w">    </span><span class="nt">auth_client_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admin-cli</span>
<span class="w">    </span><span class="nt">auth_keycloak_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://auth.example.com/auth</span>
<span class="w">    </span><span class="nt">auth_realm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">master</span>
<span class="w">    </span><span class="nt">auth_username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">USERNAME</span>
<span class="w">    </span><span class="nt">auth_password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PASSWORD</span>
<span class="w">  </span><span class="nt">delegate_to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Create a Keycloak realm role, authentication with token</span>
<span class="w">  </span><span class="nt">middleware_automation.keycloak.keycloak_role</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-new-kc-role</span>
<span class="w">    </span><span class="nt">realm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MyCustomRealm</span>
<span class="w">    </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<span class="w">    </span><span class="nt">auth_client_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admin-cli</span>
<span class="w">    </span><span class="nt">auth_keycloak_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://auth.example.com/auth</span>
<span class="w">    </span><span class="nt">token</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TOKEN</span>
<span class="w">  </span><span class="nt">delegate_to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Create a Keycloak client role</span>
<span class="w">  </span><span class="nt">middleware_automation.keycloak.keycloak_role</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-new-kc-role</span>
<span class="w">    </span><span class="nt">realm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MyCustomRealm</span>
<span class="w">    </span><span class="nt">client_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MyClient</span>
<span class="w">    </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<span class="w">    </span><span class="nt">auth_client_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admin-cli</span>
<span class="w">    </span><span class="nt">auth_keycloak_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://auth.example.com/auth</span>
<span class="w">    </span><span class="nt">auth_realm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">master</span>
<span class="w">    </span><span class="nt">auth_username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">USERNAME</span>
<span class="w">    </span><span class="nt">auth_password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PASSWORD</span>
<span class="w">  </span><span class="nt">delegate_to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Delete a Keycloak role</span>
<span class="w">  </span><span class="nt">middleware_automation.keycloak.keycloak_role</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-role-for-deletion</span>
<span class="w">    </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">absent</span>
<span class="w">    </span><span class="nt">auth_client_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admin-cli</span>
<span class="w">    </span><span class="nt">auth_keycloak_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://auth.example.com/auth</span>
<span class="w">    </span><span class="nt">auth_realm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">master</span>
<span class="w">    </span><span class="nt">auth_username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">USERNAME</span>
<span class="w">    </span><span class="nt">auth_password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PASSWORD</span>
<span class="w">  </span><span class="nt">delegate_to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Create a keycloak role with some custom attributes</span>
<span class="w">  </span><span class="nt">middleware_automation.keycloak.keycloak_role</span><span class="p">:</span>
<span class="w">    </span><span class="nt">auth_client_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admin-cli</span>
<span class="w">    </span><span class="nt">auth_keycloak_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://auth.example.com/auth</span>
<span class="w">    </span><span class="nt">auth_realm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">master</span>
<span class="w">    </span><span class="nt">auth_username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">USERNAME</span>
<span class="w">    </span><span class="nt">auth_password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PASSWORD</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-new-role</span>
<span class="w">    </span><span class="nt">attributes</span><span class="p">:</span>
<span class="w">        </span><span class="nt">attrib1</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">value1</span>
<span class="w">        </span><span class="nt">attrib2</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">value2</span>
<span class="w">        </span><span class="nt">attrib3</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">with</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">numerous</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">individual</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">list</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">items</span>
<span class="w">  </span><span class="nt">delegate_to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
</pre></div>
</div>
</section>
<section id="return-values">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Return Values</a><a class="headerlink" href="#return-values" title="Link to this heading"></a></h2>
<p>Common return values are documented <a class="reference external" href="https://docs.ansible.com/ansible/latest/reference_appendices/common_return_values.html#common-return-values" title="(in Ansible v11)"><span class="xref std std-ref">here</span></a>, the following are the fields unique to this module:</p>
<table class="colwidths-auto ansible-option-table docutils align-default" style="width: 100%">
<thead>
<tr class="row-odd">
  <th class="head"><p>Key</p></th>
  <th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="return-end_state"></div>
    <p class="ansible-option-title"><strong>end_state</strong></p>
    <a class="ansibleOptionLink" href="#return-end_state" title="Permalink to this return value"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">dictionary</span>
    </p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>Representation of role after module execution (sample is truncated).</p>
    <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> on success</p>
    <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code class="ansible-value literal notranslate ansible-option-sample">{&#34;attributes&#34;: {}, &#34;clientRole&#34;: true, &#34;composite&#34;: false, &#34;containerId&#34;: &#34;9f03eb61-a826-4771-a9fd-930e06d2d36a&#34;, &#34;description&#34;: &#34;My updated client test role&#34;, &#34;id&#34;: &#34;561703dd-0f38-45ff-9a5a-0c978f794547&#34;, &#34;name&#34;: &#34;myrole&#34;}</code></p>
  </div></td>
</tr>
<tr class="row-odd">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="return-existing"></div>
    <p class="ansible-option-title"><strong>existing</strong></p>
    <a class="ansibleOptionLink" href="#return-existing" title="Permalink to this return value"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">dictionary</span>
    </p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>Representation of existing role.</p>
    <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p>
    <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code class="ansible-value literal notranslate ansible-option-sample">{&#34;attributes&#34;: {}, &#34;clientRole&#34;: true, &#34;composite&#34;: false, &#34;containerId&#34;: &#34;9f03eb61-a826-4771-a9fd-930e06d2d36a&#34;, &#34;description&#34;: &#34;My client test role&#34;, &#34;id&#34;: &#34;561703dd-0f38-45ff-9a5a-0c978f794547&#34;, &#34;name&#34;: &#34;myrole&#34;}</code></p>
  </div></td>
</tr>
<tr class="row-even">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="return-msg"></div>
    <p class="ansible-option-title"><strong>msg</strong></p>
    <a class="ansibleOptionLink" href="#return-msg" title="Permalink to this return value"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">string</span>
    </p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>Message as to what action was taken.</p>
    <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p>
    <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code class="ansible-value literal notranslate ansible-option-sample">&#34;Role myrole has been updated&#34;</code></p>
  </div></td>
</tr>
<tr class="row-odd">
  <td><div class="ansible-option-cell">
    <div class="ansibleOptionAnchor" id="return-proposed"></div>
    <p class="ansible-option-title"><strong>proposed</strong></p>
    <a class="ansibleOptionLink" href="#return-proposed" title="Permalink to this return value"></a>
    <p class="ansible-option-type-line">
      <span class="ansible-option-type">dictionary</span>
    </p>
  </div></td>
  <td><div class="ansible-option-cell">
    <p>Representation of proposed role.</p>
    <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p>
    <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code class="ansible-value literal notranslate ansible-option-sample">{&#34;description&#34;: &#34;My updated test description&#34;}</code></p>
  </div></td>
</tr>
</tbody>
</table><section id="authors">
<h3>Authors<a class="headerlink" href="#authors" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Laurent Paumier (&#64;laurpaum)</p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="keycloak_realm.html" class="btn btn-neutral float-left" title="keycloak_realm – Allows administration of Keycloak realm via Keycloak API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="keycloak_user_federation.html" class="btn btn-neutral float-right" title="keycloak_user_federation – Allows administration of Keycloak user federations via Keycloak API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Red Hat, Inc..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>